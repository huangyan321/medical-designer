const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/comp-entry-Dwv-i33a.js","assets/comp-entry-DCup5h42.css"])))=>i.map(i=>d[i]);
var me=Object.defineProperty;var ve=(h,a,e)=>a in h?me(h,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[a]=e;var O=(h,a,e)=>ve(h,typeof a!="symbol"?a+"":a,e);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&t(p)}).observe(document,{childList:!0,subtree:!0});function e(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(i){if(i.ep)return;i.ep=!0;const u=e(i);fetch(i.href,u)}})();const ge="modulepreload",$e=function(h){return"/medical-designer/playground/runtime/vue3/playground/"+h},ie={},se=function(a,e,t){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),n=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));i=Promise.allSettled(e.map(r=>{if(r=$e(r),r in ie)return;ie[r]=!0;const s=r.endsWith(".css"),d=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${d}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":ge,s||(f.as="script"),f.crossOrigin="",f.href=r,n&&f.setAttribute("nonce",n),document.head.appendChild(f),s)return new Promise((S,_)=>{f.addEventListener("load",S),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${r}`)))})}))}function u(p){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=p,window.dispatchEvent(n),!n.defaultPrevented)throw p}return i.then(p=>{for(const n of p||[])n.status==="rejected"&&u(n.reason);return a().catch(u)})};function ne(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var ee={exports:{}},oe;function ye(){return oe||(oe=1,function(h){var a=Object.prototype.hasOwnProperty,e="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(e=!1));function i(r,s,d){this.fn=r,this.context=s,this.once=d||!1}function u(r,s,d,f,S){if(typeof d!="function")throw new TypeError("The listener must be a function");var _=new i(d,f||r,S),M=e?e+s:s;return r._events[M]?r._events[M].fn?r._events[M]=[r._events[M],_]:r._events[M].push(_):(r._events[M]=_,r._eventsCount++),r}function p(r,s){--r._eventsCount===0?r._events=new t:delete r._events[s]}function n(){this._events=new t,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],d,f;if(this._eventsCount===0)return s;for(f in d=this._events)a.call(d,f)&&s.push(e?f.slice(1):f);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(d)):s},n.prototype.listeners=function(s){var d=e?e+s:s,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var S=0,_=f.length,M=new Array(_);S<_;S++)M[S]=f[S].fn;return M},n.prototype.listenerCount=function(s){var d=e?e+s:s,f=this._events[d];return f?f.fn?1:f.length:0},n.prototype.emit=function(s,d,f,S,_,M){var v=e?e+s:s;if(!this._events[v])return!1;var g=this._events[v],L=arguments.length,I,E;if(g.fn){switch(g.once&&this.removeListener(s,g.fn,void 0,!0),L){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,S),!0;case 5:return g.fn.call(g.context,d,f,S,_),!0;case 6:return g.fn.call(g.context,d,f,S,_,M),!0}for(E=1,I=new Array(L-1);E<L;E++)I[E-1]=arguments[E];g.fn.apply(g.context,I)}else{var j=g.length,A;for(E=0;E<j;E++)switch(g[E].once&&this.removeListener(s,g[E].fn,void 0,!0),L){case 1:g[E].fn.call(g[E].context);break;case 2:g[E].fn.call(g[E].context,d);break;case 3:g[E].fn.call(g[E].context,d,f);break;case 4:g[E].fn.call(g[E].context,d,f,S);break;default:if(!I)for(A=1,I=new Array(L-1);A<L;A++)I[A-1]=arguments[A];g[E].fn.apply(g[E].context,I)}}return!0},n.prototype.on=function(s,d,f){return u(this,s,d,f,!1)},n.prototype.once=function(s,d,f){return u(this,s,d,f,!0)},n.prototype.removeListener=function(s,d,f,S){var _=e?e+s:s;if(!this._events[_])return this;if(!d)return p(this,_),this;var M=this._events[_];if(M.fn)M.fn===d&&(!S||M.once)&&(!f||M.context===f)&&p(this,_);else{for(var v=0,g=[],L=M.length;v<L;v++)(M[v].fn!==d||S&&!M[v].once||f&&M[v].context!==f)&&g.push(M[v]);g.length?this._events[_]=g.length===1?g[0]:g:p(this,_)}return this},n.prototype.removeAllListeners=function(s){var d;return s?(d=e?e+s:s,this._events[d]&&p(this,d)):(this._events=new t,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=e,n.EventEmitter=n,h.exports=n}(ee)),ee.exports}var we=ye();const le=ne(we);class _e{constructor(a=globalThis.navigator.userAgent,e={}){O(this,"isIos",!1);O(this,"isIphone",!1);O(this,"isIpad",!1);O(this,"isAndroid",!1);O(this,"isAndroidPad",!1);O(this,"isMac",!1);O(this,"isWin",!1);O(this,"isMqq",!1);O(this,"isWechat",!1);O(this,"isWeb",!1);this.isIphone=a.includes("iPhone"),this.isIpad=/iPad.*OS\s[\d_]+/.test(a),this.isIos=this.isIphone||this.isIpad,this.isAndroid=a.includes("Android"),this.isAndroidPad=this.isAndroid&&!a.includes("Mobile"),this.isMac=a.includes("Macintosh"),this.isWin=a.includes("Windows"),this.isMqq=/QQ\/[\d.]+/.test(a),this.isWechat=a.includes("MicroMessenger")&&!a.includes("wxwork"),this.isWeb=!this.isIos&&!this.isAndroid&&!/WebOS|BlackBerry/.test(a),Object.entries(e).forEach(([t,i])=>{this[t]=i})}}const te="lowcode:common:events:",he="lowcode:common:actions:",X={SHOW:"show",HIDE:"hide",SCROLL_TO_VIEW:"scrollIntoView",SCROLL_TO_TOP:"scrollToTop"},Ee=[{label:"点击",value:`${te}click`}];function de(h,a){const e=`${h}:${a}`;return h.startsWith(te)?e:`${te}${e}`}const Me=h=>h.startsWith(he);function pe(h,a){var t;if(!h)return!1;if(!h.id)return pe(h.parentElement,a);const e=(t=a.page)==null?void 0:t.getNode(h.id);return e||!1}function ae(h,a,e){const t=pe(e.target,h);if(t){const{instance:i,data:u}=t;h.emit(de(a,u.id),i)}}function Se(h){window.document.body.addEventListener("click",a=>{ae(h,"click",a)}),window.document.body.addEventListener("click",a=>{ae(h,"click:capture",a)},!0)}function Oe(h,a){const{instance:e}=a;switch(h.replace(he,"")){case X.SHOW:e.show();break;case X.HIDE:e.hide();break;case X.SCROLL_TO_VIEW:e.$el.scrollIntoView({behavior:"smooth"});break;case X.SCROLL_TO_TOP:window.scrollTo({top:0,behavior:"smooth"});break}}class be{constructor(){O(this,"data",{})}set(a,e){this.data[a]=e}get(a){return this.data[a]}}class ue extends le{constructor(e){super();O(this,"data");O(this,"style");O(this,"events");O(this,"instance");O(this,"page");O(this,"parent");O(this,"app");O(this,"store",new be);this.page=e.page,this.parent=e.parent,this.app=e.app;const{events:t}=e.config;this.data=e.config,this.events=t,this.listenLifeSafe(),this.once("destroy",()=>{this.instance=null,typeof this.data.destroy=="function"&&this.data.destroy(this),this.listenLifeSafe()})}listenLifeSafe(){this.once("created",e=>{this.instance=e,typeof this.data.created=="function"&&this.data.created(this)}),this.once("mounted",e=>{this.instance=e;const t=this.app.eventQueueMap[e.proxy.config.id]||[];for(let i=t.shift();i;i=t.shift())this.app.eventHandler(i.eventConfig,i.fromCpt,i.args);typeof this.data.mounted=="function"&&this.data.mounted(this)})}}class xe extends ue{constructor(e){super(e);O(this,"nodes",new Map);this.setNode(e.config.id,this),this.initNode(e.config,this)}initNode(e,t){var u;const i=new ue({config:e,parent:t,page:this,app:this.app});this.setNode(e.id,i),(u=e.items)==null||u.forEach(p=>{this.initNode(p,i)})}getNode(e){return this.nodes.get(e)}setNode(e,t){this.nodes.set(e,t)}deleteNode(e){this.nodes.delete(e)}}function De(h){return typeof h!="string"?h:h.split(";").reduce((a,e)=>{if(!e)return a;const[t,...i]=e.split(":");if(!t)return a;const u=t.trim().split("-").map((n,r)=>r>0?`${n[0].toUpperCase()}${n.slice(1)}`:n).join(""),p=i.join(":").trim();return a[u]=p,a},{})}function Ce(h){return h&&!h.startsWith("url")&&!h.startsWith("linear-gradient")?`url(${h})`:h}const Te=h=>/^-?\d+(?:\.\d+)?$/.test(h);class Le extends le{constructor(e){super();O(this,"env");O(this,"pages",new Map);O(this,"components",new Map);O(this,"platform","device");O(this,"jsEngine","browser");O(this,"rootFontSize");O(this,"page");O(this,"zoomRatio",{x:1,y:1});O(this,"eventQueueMap",{});this.env=new _e,this.rootFontSize=document.documentElement.style.fontSize,this.initializeApp(e)}initializeApp(e){const{platform:t,jsEngine:i,transformStyle:u,config:p,curPage:n}=e;t&&(this.platform=t),i&&(this.jsEngine=i),(this.platform==="device"||this.platform==="browser")&&this.initializeFontSize(),u&&(this.transformStyle=u),p&&this.setConfig(p,n),Se(this)}initializeFontSize(){const e=()=>{let{width:t}=document.documentElement.getBoundingClientRect();t=Math.max(600,t);const i=t/10.24;this.rootFontSize=document.documentElement.style.fontSize=`${i}px`};e(),document.body.style.fontSize="14px",globalThis.addEventListener("resize",e)}transformStyle(e){if(!e)return{};const t=typeof e=="string"?De(e):{...e};return this.processStyleProperties(t)}processStyleProperties(e){const t={},i=["zIndex","opacity","fontWeight"];return Object.entries(e).forEach(([u,p])=>{t[u]=this.processStyleProperty(u,p,i)}),t}processStyleProperty(e,t,i){return t&&(e==="backgroundImage"?Ce(t):e==="transform"&&typeof t!="string"?this.processTransform(t):!i.includes(e)&&/^-?\d*(?:\.\d*)?$/.test(t)?this.convertToPx(e,Number(t)):t)}processTransform(e){const t=Object.entries(e).map(([i,u])=>u.trim()?(i==="rotate"&&Te(u)&&(u=`${u}deg`),`${i}(${u})`):"").join(" ");return t.trim()?"none":t}convertToPx(e,t){let i=1;return e==="height"||e==="top"?i=this.zoomRatio.y:i=this.zoomRatio.x,`${t*i}px`}setConfig(e,t){var i,u,p;this.pages.clear(),(i=e.items)==null||i.forEach(n=>{this.pages.set(n.id,new xe({config:n,app:this}))}),this.setPage(t||((p=(u=this.page)==null?void 0:u.data)==null?void 0:p.id))}setPage(e){let t;e&&(t=this.pages.get(e)),t||(t=this.pages.get(this.pages.keys().next().value)),this.page=t,this.platform!=="browser"&&this.bindEvents(),this.calcZoomRatio(t)}calcZoomRatio(e){if(!e||this.platform!=="device")return;const t=Number(e.data.style.width),i=Number(e.data.style.height);if(!t||!i)throw new Error("模板页面宽高不明确");const{width:u,height:p}=document.documentElement.getBoundingClientRect();this.zoomRatio={x:u/t,y:p/i},console.log("🚀 ~ App ~ calcZoomRatio ~ this.zoomRatio:",this.zoomRatio)}registerComponent(e,t){this.components.set(e,t)}unregisterComponent(e){this.components.delete(e)}resolveComponent(e){return this.components.get(e)}bindEvents(){var e;if(this.page){this.removeAllListeners();for(const[,t]of this.page.nodes)(e=t.events)==null||e.forEach(i=>this.bindEvent(i,`${t.data.id}`))}}bindEvent(e,t){let{name:i}=e;Ee.findIndex(u=>u.value===i)>-1&&(i=de(i,t)),this.on(i,(u,...p)=>{this.eventHandler(e,u,p)})}async eventHandler(e,t,i){var r,s;if(!this.page)throw new Error("No active page found");const{method:u,to:p}=e,n=this.page.getNode(p);if(!n)throw new Error(`Component with ID ${p} does not exist`);try{if(Me(u)){await Oe(u,n);return}if((s=(r=n.instance)==null?void 0:r.exposed)!=null&&s[u]){await n.instance.exposed[u](t,...i);return}this.addEventToMap({eventConfig:e,fromCpt:t,args:i})}catch(d){throw console.error(`Error handling event ${u}:`,d),d}}destroy(){this.removeAllListeners(),this.pages.clear()}addEventToMap(e){this.eventQueueMap[e.eventConfig.to]?this.eventQueueMap[e.eventConfig.to].push(e):this.eventQueueMap[e.eventConfig.to]=[e]}}var K={exports:{}},Pe=K.exports,ce;function Ie(){return ce||(ce=1,function(h,a){(function(e,t){h.exports=t()})(Pe,function(){var e=1e3,t=6e4,i=36e5,u="millisecond",p="second",n="minute",r="hour",s="day",d="week",f="month",S="quarter",_="year",M="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var l=["th","st","nd","rd"],o=$%100;return"["+$+(l[(o-20)%10]||l[o]||l[0])+"]"}},E=function($,l,o){var m=String($);return!m||m.length>=l?$:""+Array(l+1-m.length).join(o)+$},j={s:E,z:function($){var l=-$.utcOffset(),o=Math.abs(l),m=Math.floor(o/60),c=o%60;return(l<=0?"+":"-")+E(m,2,"0")+":"+E(c,2,"0")},m:function $(l,o){if(l.date()<o.date())return-$(o,l);var m=12*(o.year()-l.year())+(o.month()-l.month()),c=l.clone().add(m,f),y=o-c<0,w=l.clone().add(m+(y?-1:1),f);return+(-(m+(o-c)/(y?c-w:w-c))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:f,y:_,w:d,d:s,D:M,h:r,m:n,s:p,ms:u,Q:S}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},A="en",W={};W[A]=I;var U="$isDayjsObject",F=function($){return $ instanceof Z||!(!$||!$[U])},H=function $(l,o,m){var c;if(!l)return A;if(typeof l=="string"){var y=l.toLowerCase();W[y]&&(c=y),o&&(W[y]=o,c=y);var w=l.split("-");if(!c&&w.length>1)return $(w[0])}else{var x=l.name;W[x]=l,c=x}return!m&&c&&(A=c),c||!m&&A},C=function($,l){if(F($))return $.clone();var o=typeof l=="object"?l:{};return o.date=$,o.args=arguments,new Z(o)},b=j;b.l=H,b.i=F,b.w=function($,l){return C($,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var Z=function(){function $(o){this.$L=H(o.locale,null,!0),this.parse(o),this.$x=this.$x||o.x||{},this[U]=!0}var l=$.prototype;return l.parse=function(o){this.$d=function(m){var c=m.date,y=m.utc;if(c===null)return new Date(NaN);if(b.u(c))return new Date;if(c instanceof Date)return new Date(c);if(typeof c=="string"&&!/Z$/i.test(c)){var w=c.match(g);if(w){var x=w[2]-1||0,D=(w[7]||"0").substring(0,3);return y?new Date(Date.UTC(w[1],x,w[3]||1,w[4]||0,w[5]||0,w[6]||0,D)):new Date(w[1],x,w[3]||1,w[4]||0,w[5]||0,w[6]||0,D)}}return new Date(c)}(o),this.init()},l.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},l.$utils=function(){return b},l.isValid=function(){return this.$d.toString()!==v},l.isSame=function(o,m){var c=C(o);return this.startOf(m)<=c&&c<=this.endOf(m)},l.isAfter=function(o,m){return C(o)<this.startOf(m)},l.isBefore=function(o,m){return this.endOf(m)<C(o)},l.$g=function(o,m,c){return b.u(o)?this[m]:this.set(c,o)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(o,m){var c=this,y=!!b.u(m)||m,w=b.p(o),x=function(R,k){var V=b.w(c.$u?Date.UTC(c.$y,k,R):new Date(c.$y,k,R),c);return y?V:V.endOf(s)},D=function(R,k){return b.w(c.toDate()[R].apply(c.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(k)),c)},T=this.$W,P=this.$M,N=this.$D,Y="set"+(this.$u?"UTC":"");switch(w){case _:return y?x(1,0):x(31,11);case f:return y?x(1,P):x(0,P+1);case d:var z=this.$locale().weekStart||0,q=(T<z?T+7:T)-z;return x(y?N-q:N+(6-q),P);case s:case M:return D(Y+"Hours",0);case r:return D(Y+"Minutes",1);case n:return D(Y+"Seconds",2);case p:return D(Y+"Milliseconds",3);default:return this.clone()}},l.endOf=function(o){return this.startOf(o,!1)},l.$set=function(o,m){var c,y=b.p(o),w="set"+(this.$u?"UTC":""),x=(c={},c[s]=w+"Date",c[M]=w+"Date",c[f]=w+"Month",c[_]=w+"FullYear",c[r]=w+"Hours",c[n]=w+"Minutes",c[p]=w+"Seconds",c[u]=w+"Milliseconds",c)[y],D=y===s?this.$D+(m-this.$W):m;if(y===f||y===_){var T=this.clone().set(M,1);T.$d[x](D),T.init(),this.$d=T.set(M,Math.min(this.$D,T.daysInMonth())).$d}else x&&this.$d[x](D);return this.init(),this},l.set=function(o,m){return this.clone().$set(o,m)},l.get=function(o){return this[b.p(o)]()},l.add=function(o,m){var c,y=this;o=Number(o);var w=b.p(m),x=function(P){var N=C(y);return b.w(N.date(N.date()+Math.round(P*o)),y)};if(w===f)return this.set(f,this.$M+o);if(w===_)return this.set(_,this.$y+o);if(w===s)return x(1);if(w===d)return x(7);var D=(c={},c[n]=t,c[r]=i,c[p]=e,c)[w]||1,T=this.$d.getTime()+o*D;return b.w(T,this)},l.subtract=function(o,m){return this.add(-1*o,m)},l.format=function(o){var m=this,c=this.$locale();if(!this.isValid())return c.invalidDate||v;var y=o||"YYYY-MM-DDTHH:mm:ssZ",w=b.z(this),x=this.$H,D=this.$m,T=this.$M,P=c.weekdays,N=c.months,Y=c.meridiem,z=function(k,V,B,J){return k&&(k[V]||k(m,y))||B[V].slice(0,J)},q=function(k){return b.s(x%12||12,k,"0")},R=Y||function(k,V,B){var J=k<12?"AM":"PM";return B?J.toLowerCase():J};return y.replace(L,function(k,V){return V||function(B){switch(B){case"YY":return String(m.$y).slice(-2);case"YYYY":return b.s(m.$y,4,"0");case"M":return T+1;case"MM":return b.s(T+1,2,"0");case"MMM":return z(c.monthsShort,T,N,3);case"MMMM":return z(N,T);case"D":return m.$D;case"DD":return b.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return z(c.weekdaysMin,m.$W,P,2);case"ddd":return z(c.weekdaysShort,m.$W,P,3);case"dddd":return P[m.$W];case"H":return String(x);case"HH":return b.s(x,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return R(x,D,!0);case"A":return R(x,D,!1);case"m":return String(D);case"mm":return b.s(D,2,"0");case"s":return String(m.$s);case"ss":return b.s(m.$s,2,"0");case"SSS":return b.s(m.$ms,3,"0");case"Z":return w}return null}(k)||w.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(o,m,c){var y,w=this,x=b.p(m),D=C(o),T=(D.utcOffset()-this.utcOffset())*t,P=this-D,N=function(){return b.m(w,D)};switch(x){case _:y=N()/12;break;case f:y=N();break;case S:y=N()/3;break;case d:y=(P-T)/6048e5;break;case s:y=(P-T)/864e5;break;case r:y=P/i;break;case n:y=P/t;break;case p:y=P/e;break;default:y=P}return c?y:b.a(y)},l.daysInMonth=function(){return this.endOf(f).$D},l.$locale=function(){return W[this.$L]},l.locale=function(o,m){if(!o)return this.$L;var c=this.clone(),y=H(o,m,!0);return y&&(c.$L=y),c},l.clone=function(){return b.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},$}(),re=Z.prototype;return C.prototype=re,[["$ms",u],["$s",p],["$m",n],["$H",r],["$W",s],["$M",f],["$y",_],["$D",M]].forEach(function($){re[$[1]]=function(l){return this.$g(l,$[0],$[1])}}),C.extend=function($,l){return $.$i||($(l,Z,C),$.$i=!0),C},C.locale=H,C.isDayjs=F,C.unix=function($){return C(1e3*$)},C.en=W[A],C.Ls=W,C.p={},C})}(K)),K.exports}var Ae=Ie();const ke=ne(Ae);var G={exports:{}},Ne=G.exports,fe;function We(){return fe||(fe=1,function(h,a){(function(e,t){h.exports=t()})(Ne,function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(u,p,n){var r=p.prototype;n.utc=function(v){var g={date:v,utc:!0,args:arguments};return new p(g)},r.utc=function(v){var g=n(this.toDate(),{locale:this.$L,utc:!0});return v?g.add(this.utcOffset(),e):g},r.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var s=r.parse;r.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),s.call(this,v)};var d=r.init;r.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var f=r.utcOffset;r.utcOffset=function(v,g){var L=this.$utils().u;if(L(v))return this.$u?0:L(this.$offset)?f.call(this):this.$offset;if(typeof v=="string"&&(v=function(A){A===void 0&&(A="");var W=A.match(t);if(!W)return null;var U=(""+W[0]).match(i)||["-",0,0],F=U[0],H=60*+U[1]+ +U[2];return H===0?0:F==="+"?H:-H}(v),v===null))return this;var I=Math.abs(v)<=16?60*v:v,E=this;if(g)return E.$offset=I,E.$u=v===0,E;if(v!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(I+j,e)).$offset=I,E.$x.$localOffset=j}else E=this.utc();return E};var S=r.format;r.format=function(v){var g=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return S.call(this,g)},r.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var _=r.toDate;r.toDate=function(v){return v==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():_.call(this)};var M=r.diff;r.diff=function(v,g,L){if(v&&this.$u===v.$u)return M.call(this,v,g,L);var I=this.local(),E=n(v).local();return M.call(I,E,g,L)}}})}(G)),G.exports}var He=We();const Ve=ne(He);ke.extend(Ve);function Q(h,a=[]){const e=[],t=function(i,u){if(!Array.isArray(u))return null;for(let p=0,n=u.length;p<n;p++){const r=u[p];if(e.push(r),`${r.id}`==`${i}`)return r;if(r.items){const s=t(i,r.items);if(s)return s}e.pop()}return null};return t(h,a),e}const ze=Vue.defineComponent({__name:"App",setup(h){var p;const a=Vue.ref(),e=Vue.ref(),t=Vue.ref(),i=Vue.computed(()=>{var n,r,s,d;return((r=(n=a.value)==null?void 0:n.items)==null?void 0:r.find(f=>f.id===e.value))||((d=(s=a.value)==null?void 0:s.items)==null?void 0:d[0])}),u=new Le({config:a.value,platform:"designer"});return Vue.provide("app",u),Vue.watch(i,async()=>{await Vue.nextTick();const n=document.querySelector(".lowcode-ui-page");n&&window.lowcode.onPageElUpdate(n)}),(p=window.lowcode)==null||p.onRuntimeReady({getApp(){return u},updateRootConfig(n){console.log("update config",n),a.value=n},updatePageId(n){console.log("update page id",n),e.value=n,u==null||u.setPage(n)},select(n){console.log("select config",n),t.value=n;const r=document.getElementById(`${n}`);return r||Vue.nextTick().then(()=>document.getElementById(`${n}`))},add({config:n,parentId:r}){var d,f,S;if(console.log("add config",n),!a.value)throw new Error("error");if(!t.value)throw new Error("error");if(!r)throw new Error("error");const s=Q(r,[a.value]).pop();if(!s)throw new Error("未找到父节点");if(s.id!==t.value){const _=(d=s.items)==null?void 0:d.findIndex(M=>M.id===t.value);(f=s.items)==null||f.splice(_+1,0,n)}else(S=s.items)==null||S.push(n)},update({config:n,parentId:r}){var S;if(console.log("update config",n),!a.value)throw new Error("error");const s=Q(n.id,[a.value]).pop();if(!r)throw new Error("error");const d=Q(r,[a.value]).pop();if(!s)throw new Error("未找到目标节点");if(!d)throw new Error("未找到父节点");const f=(S=d.items)==null?void 0:S.findIndex(_=>_.id===s.id);d.items.splice(f,1,Vue.reactive(n))},remove({id:n,parentId:r}){var S;if(!a.value)throw new Error("error");const s=Q(n,[a.value]).pop();if(!s)throw new Error("未找到目标元素");const d=Q(r,[a.value]).pop();if(!d)throw new Error("未找到父元素");const f=(S=d.items)==null?void 0:S.findIndex(_=>_.id===s.id);d.items.splice(f,1)}}),(n,r)=>{const s=Vue.resolveComponent("low-code-runtime-ui-page");return Vue.openBlock(),Vue.createBlock(Vue.Transition,{name:"fade",appear:""},{default:Vue.withCtx(()=>[i.value?(Vue.openBlock(),Vue.createBlock(s,{key:0,config:i.value},null,8,["config"])):Vue.createCommentVNode("",!0)]),_:1})}}});Promise.all([se(()=>import("./comp-entry-Dwv-i33a.js"),__vite__mapDeps([0,1])),se(()=>import("./plugin-entry-B1O5LaIO.js"),[])]).then(([h,a])=>{const e=Vue.createApp(ze);Object.entries(h.default).forEach(([t,i])=>{e.component(`low-code-runtime-ui-${t}`,i)}),Object.values(a.default).forEach(t=>{e.use(t)}),e.mount("#app")});export{ne as g};
//# sourceMappingURL=index-r7QrwpQb.js.map
